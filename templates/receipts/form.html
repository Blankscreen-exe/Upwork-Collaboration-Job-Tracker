{% extends "base.html" %}

{% block content %}
<h1 class="mb-4">Edit Receipt</h1>

<form method="POST" action="/receipts/{{ receipt.id }}/edit">
    <div class="mb-3">
        <label for="received_date" class="form-label">Received Date *</label>
        <input type="date" class="form-control" id="received_date" name="received_date" value="{{ receipt.received_date }}" required>
    </div>
    <div class="mb-3">
        <label for="amount_received" class="form-label">Amount *</label>
        <input type="number" step="0.01" class="form-control" id="amount_received" name="amount_received" value="{{ receipt.amount_received }}" required>
    </div>
    <div class="mb-3">
        <label for="source" class="form-label">Source *</label>
        <select class="form-select" id="source" name="source" required>
            <option value="milestone" {% if receipt.source.value == "milestone" %}selected{% endif %}>Milestone</option>
            <option value="weekly" {% if receipt.source.value == "weekly" %}selected{% endif %}>Weekly</option>
            <option value="bonus" {% if receipt.source.value == "bonus" %}selected{% endif %}>Bonus</option>
            <option value="manual" {% if receipt.source.value == "manual" %}selected{% endif %}>Manual</option>
        </select>
    </div>
    <div class="mb-3">
        <label for="upwork_transaction_id" class="form-label">Upwork Transaction ID</label>
        <input type="text" class="form-control" id="upwork_transaction_id" name="upwork_transaction_id" value="{{ receipt.upwork_transaction_id or '' }}">
    </div>
    <div class="mb-3">
        <label for="notes" class="form-label">Notes</label>
        <textarea class="form-control" id="notes" name="notes" rows="3">{{ receipt.notes or '' }}</textarea>
    </div>
    <button type="submit" class="btn btn-primary">Save</button>
    <a href="/jobs/{{ receipt.job_id }}" class="btn btn-secondary">Cancel</a>
</form>
{% endblock %}
