{% extends "base.html" %}

{% block content %}
<h1 class="mb-4">Clone Settings Version: {{ source_version.name }}</h1>

{% if error %}
<div class="alert alert-danger">{{ error }}</div>
{% endif %}

<form method="POST" action="/settings/{{ source_version.id }}/clone">
    <div class="mb-3">
        <label for="name" class="form-label">New Name *</label>
        <input type="text" class="form-control" id="name" name="name" value="Copy of {{ source_version.name }}" required>
    </div>
    
    <div class="mb-3">
        <label for="rules_json" class="form-label">Rules JSON *</label>
        <textarea class="form-control font-monospace" id="rules_json" name="rules_json" rows="15" required>{{ rules_json }}</textarea>
        <small class="form-text text-muted">Edit the JSON as needed. This will create a new version.</small>
    </div>
    
    <div class="mb-3">
        <label for="notes" class="form-label">Notes</label>
        <textarea class="form-control" id="notes" name="notes" rows="3"></textarea>
    </div>
    
    <button type="submit" class="btn btn-primary">Create Cloned Version</button>
    <a href="/settings/{{ source_version.id }}" class="btn btn-secondary">Cancel</a>
</form>
{% endblock %}
